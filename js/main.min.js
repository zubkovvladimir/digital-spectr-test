const ALERT_INTERVAL=3e3,DEBOUNCE_INTERVAL=500,ALERT_TEXT="Не удалось отправить форму, попробуйте позднее.",UPLOAD_URL="https://60376bfd5435040017722533.mockapi.io/form",form=document.querySelector(".form"),setDebounce=function(e){let n=null;return function(){var t=arguments;n&&window.clearTimeout(n),n=window.setTimeout(function(){e.apply(null,t)},DEBOUNCE_INTERVAL)}},createAlertElement=setDebounce(function(){const t=document.createElement("p");t.textContent=ALERT_TEXT,t.style.marginBottom=0,t.style.color="red",t.style.position="absolute",t.style.top="343px",t.style.left="43px",form.append(t),setTimeout(()=>{t.remove()},ALERT_INTERVAL)}),onFormSubmit=function(t){t.preventDefault();t=new FormData(t.target);fetch(UPLOAD_URL,{method:"POST",body:t}).then(t=>{t.ok?form.reset():createAlertElement()}).catch(()=>{createAlertElement()})};form.addEventListener("submit",onFormSubmit);const NAME_PATTERN=/[^-а-яА-Я ]/g,PHONE_PATTERN=/[^-0-9 +]/g,EMAIL_PATTERN=/[^a-zA-z]+@[^a-zA-z]+.[^a-zA-z]+/g,NAME_WARN="Пожалуйста, используйте только русские буквы, пробелы и тире.",PHONE_WARN='Пожалуйста, используйте только цифры, знаки "-" и "+" и пробелы.',EMAIL_WARN="Пожалуйста, введите корреткный email.",inputName=document.querySelector(".form__input--name"),inputPhone=document.querySelector(".form__input--phone"),inputEmail=document.querySelector(".form__input--email"),checkInputValidity=function(t,e,n){const o=t.value;o.match(e)?t.setCustomValidity(n):t.setCustomValidity("")},onNameInput=function(){checkInputValidity(inputName,NAME_PATTERN,NAME_WARN)},onPhoneInput=function(){checkInputValidity(inputPhone,PHONE_PATTERN,PHONE_WARN)},onEmailInput=function(){checkInputValidity(inputEmail,EMAIL_PATTERN,EMAIL_WARN)};inputName.addEventListener("input",onNameInput),inputPhone.addEventListener("input",onPhoneInput),inputEmail.addEventListener("input",onEmailInput);